{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAeC,SAASC,cAAc,aACtCC,EAAaF,SAASC,cAAc,uBACpCE,EAAYH,SAASC,cAAc,sBACnCG,EAAcJ,SAASC,cAAc,wBACrCI,EAAYL,SAASC,cAAc,yBA+BzC,SAASK,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,uBAAqBH,QAAiBC,OAG5CG,EAAK,sBAAoBJ,QAAiBC,SAG7CA,EAAQN,EAAWc,UAxC1BX,EAAUY,iBAAiB,SAASC,IAClCA,EAAMC,iBACNJ,YAAW,KACT,IAAK,IAAIK,EAAI,EAAGA,EAAIhB,EAAYY,MAAOI,IAAK,CAI1Cd,EADiBc,EAAI,EADnBC,OAAOnB,EAAWc,OAASK,OAAOlB,EAAUa,OAASI,GAGpDE,MAAKC,GAAU1B,EAAA2B,OAAOC,QAAQF,KAC9BG,OAAMC,GAAS9B,EAAA2B,OAAOI,QAAQD,QAElCzB,EAAWc,OAEd,MAAMa,GACHR,OAAOjB,EAAYY,OAAS,GAAKK,OAAOlB,EAAUa,OACnDK,OAAOnB,EAAWc,OAEda,EAAe,IACjBxB,EAAUyB,aAAa,WAAY,IACnCf,YAAW,KACTV,EAAU0B,gBAAgB,cACzBF,OAwBT9B,EAAaiC,MAAMC,WAAa,aAChClC,EAAaiC,MAAME,SAAW,OAC9BnC,EAAaiC,MAAMG,QAAU,OAC7BpC,EAAaiC,MAAMI,UAAY,SAC/BrC,EAAaiC,MAAMK,MAAQ,QAC3BhC,EAAU2B,MAAMK,MAAQ,QACxBhC,EAAU2B,MAAMM,WAAa,OAC7BjC,EAAU2B,MAAME,SAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst controlPanel = document.querySelector('form.form');\nconst delayPanel = document.querySelector('input[name=\"delay\"]');\nconst stepPanel = document.querySelector('input[name=\"step\"]');\nconst amountPanel = document.querySelector('input[name=\"amount\"]');\nconst submitBtn = document.querySelector('button[type=\"submit\"]');\n\nsubmitBtn.addEventListener('click', event => {\n  event.preventDefault();\n  setTimeout(() => {\n    for (let i = 0; i < amountPanel.value; i++) {\n      const currentDelay =\n        Number(delayPanel.value) + Number(stepPanel.value) * i;\n      const position = i + 1;\n      createPromise(position, currentDelay)\n        .then(result => Notify.success(result))\n        .catch(error => Notify.failure(error));\n    }\n  }, delayPanel.value);\n\n  const overageDelay =\n    (Number(amountPanel.value) - 1) * Number(stepPanel.value) +\n    Number(delayPanel.value);\n  function disabledBtn() {\n    if (overageDelay > 0) {\n      submitBtn.setAttribute('disabled', '');\n      setTimeout(() => {\n        submitBtn.removeAttribute('disabled');\n      }, overageDelay);\n    } else {\n      return;\n    }\n  }\n  disabledBtn();\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        // Fulfill\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n        // Reject\n      }\n    }, delay - delayPanel.value);\n  });\n}\n\n// Стилізація\ncontrolPanel.style.fontFamily = 'montsserat';\ncontrolPanel.style.fontSize = '24px';\ncontrolPanel.style.display = 'flex';\ncontrolPanel.style.direction = 'column';\ncontrolPanel.style.width = '800px';\nsubmitBtn.style.width = '200px';\nsubmitBtn.style.marginLeft = '50px';\nsubmitBtn.style.fontSize = '20px';\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$controlPanel","document","querySelector","$47d4ff9957288465$var$delayPanel","$47d4ff9957288465$var$stepPanel","$47d4ff9957288465$var$amountPanel","$47d4ff9957288465$var$submitBtn","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","value","addEventListener","event","preventDefault","i","Number","then","result","Notify","success","catch","error","failure","overageDelay","setAttribute","removeAttribute","style","fontFamily","fontSize","display","direction","width","marginLeft"],"version":3,"file":"03-promises.ea092acb.js.map"}